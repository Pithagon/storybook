let n=!1;function r(){}try{const e=Object.create({},{signal:{get(){n=!0}}});window.addEventListener("test",r,e),window.removeEventListener("test",r,e)}catch{}function s(){return n}function c(){if(typeof window>"u")return;const e=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(i,o,t){return typeof t=="object"&&"signal"in t&&t.signal instanceof AbortSignal&&e.call(t.signal,"abort",()=>{this.removeEventListener(i,o,t)}),e.call(this,i,o,t)}}function d(){s()||(c(),n=!0)}export{d as p};
