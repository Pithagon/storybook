import{r as d,R as v,j as l,c as Z,d as q}from"./iframe-Cfz2vXeE.js";import{K as U}from"./index.esm-C1WN7kEu.js";import{A as C}from"./index-C-OhZ25x.js";import{u as L}from"./useIsomorphicLayoutEffect-C_Bsqbyc.js";import{u as J}from"./Tooltip-BuVThTi0.js";import{u as Q}from"./useResizeObserver-CkcKl7_1.js";import{u as X}from"./useOnOutsideClick-CaQvIa_9.js";import{I as W}from"./IconButton-qXcIkMuV.js";import{u as Y}from"./useFocusZone-BvuuCBlY.js";import{F as M}from"./focus-zone-ZDpdvBtN.js";import{A as O}from"./ActionMenu-VmSenYrX.js";const ee="prc-ActionBar-List-Z4LzW",te="prc-ActionBar-Nav-hc-9G",se="prc-ActionBar-Divider-CcBO8",T={List:ee,Nav:te,Divider:se},z=8,j=v.createContext({size:"medium",setChildrenWidth:()=>null}),ne=32,ie=t=>v.Children.toArray(t).filter(a=>v.isValidElement(a)),_=(t,a,e=0)=>{const s=a-e;let i=t.length,n=0;for(const[m,r]of t.entries())if(n+=m>0?r.width+z:r.width,n>s){i=m;break}else continue;return i},re=(t,a,e,s,i,n)=>{s.length===0&&i({items:e,menuItems:[]});const m=_(s,t),r=_(s,t,a||ne),b=[],c=[];if(e.length>=m){const p=e.length-r===1?r-1:r;for(const[u,g]of e.entries())if(u<p)b.push(g);else if(s[u].text==="divider"){if(u===p-1||u===p)continue;{const f=v.createElement(C.Divider,{key:u});c.push(f)}}else c.push(g);i({items:b,menuItems:c})}else m>e.length&&n&&i({items:e,menuItems:[]})},P=t=>{const{size:a="medium",children:e,"aria-label":s,flush:i=!1,className:n}=t,[m,r]=d.useState([]),b=d.useCallback(o=>{r(h=>[...h,o])},[]),c=d.useRef(null),R=d.useRef(null),p=d.useRef(null),u=d.useRef(null),g=v.useRef(null),f=ie(e),[x,w]=d.useState({items:f,menuItems:[]}),$=x.items.map(o=>f.find(h=>h.key===o.key)??o),k=x.menuItems.map(o=>f.find(h=>h.key===o.key)??o),F=d.useCallback(o=>{w(o)},[]);Q(o=>{const h=o[0].contentRect.width,I=p.current?.getBoundingClientRect().width??0,y=k.length>0;h!==0&&re(h,I,f,m,F,y)},c);const[A,N]=d.useState(!1),B=v.useCallback(()=>{N(!1)},[N]),D=v.useCallback(()=>{u.current?.focus()},[]);return J(o=>{A&&(o.preventDefault(),B(),D())},[A]),X({onClickOutside:B,containerRef:g,ignoreClickRefs:[u]}),Y({containerRef:R,bindKeys:M.ArrowHorizontal|M.HomeAndEnd,focusOutBehavior:"wrap"}),l.jsx(j.Provider,{value:{size:a,setChildrenWidth:b},children:l.jsx("div",{ref:c,className:Z(n,T.Nav),"data-flush":i,children:l.jsxs("div",{ref:R,role:"toolbar",className:T.List,style:{gap:`${z}px`},children:[$,k.length>0&&l.jsxs(O,{children:[l.jsx(O.Anchor,{children:l.jsx(W,{variant:"invisible","aria-label":`More ${s} items`,icon:U})}),l.jsx(O.Overlay,{children:l.jsx(C,{children:k.map((o,h)=>{if(o.type===C.Divider)return l.jsx(C.Divider,{},h);{const{children:I,onClick:y,icon:E,"aria-label":K,disabled:S}=o.props;return l.jsxs(C.Item,{onClick:G=>{B(),D(),typeof y=="function"&&y(G)},disabled:S,children:[E?l.jsx(C.LeadingVisual,{children:l.jsx(E,{})}):null,K]},I)}})})})]})]})})})},H=d.forwardRef((t,a)=>{const e=q.c(20);let s,i,n;e[0]!==t?({disabled:s,onClick:i,...n}=t,e[0]=t,e[1]=s,e[2]=i,e[3]=n):(s=e[1],i=e[2],n=e[3]);const m=d.useRef(null),r=a??m,{size:b,setChildrenWidth:c}=v.useContext(j);let R;e[4]!==n||e[5]!==r||e[6]!==c?(R=()=>{const x=n["aria-label"]?n["aria-label"]:"",w=r.current.getBoundingClientRect();c({text:x,width:w.width})},e[4]=n,e[5]=r,e[6]=c,e[7]=R):R=e[7];let p;e[8]!==r||e[9]!==c?(p=[r,c],e[8]=r,e[9]=c,e[10]=p):p=e[10],L(R,p);let u;e[11]!==s||e[12]!==i?(u=x=>{s||i?.(x)},e[11]=s,e[12]=i,e[13]=u):u=e[13];const g=u;let f;return e[14]!==g||e[15]!==s||e[16]!==n||e[17]!==r||e[18]!==b?(f=l.jsx(W,{"aria-disabled":s,ref:r,size:b,onClick:g,...n,variant:"invisible"}),e[14]=g,e[15]=s,e[16]=n,e[17]=r,e[18]=b,e[19]=f):f=e[19],f}),V=()=>{const t=q.c(4),a=d.useRef(null),{setChildrenWidth:e}=v.useContext(j);let s,i;t[0]!==e?(s=()=>{const m=a.current.getBoundingClientRect();e({text:"divider",width:m.width})},i=[a,e],t[0]=e,t[1]=s,t[2]=i):(s=t[1],i=t[2]),L(s,i);let n;return t[3]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx("div",{ref:a,"data-component":"ActionBar.VerticalDivider","aria-hidden":"true",className:T.Divider}),t[3]=n):n=t[3],n};P.__docgenInfo={description:"",methods:[],displayName:"ActionBar",props:{size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium' | 'large'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"},{name:"literal",value:"'large'"}]},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},flush:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};H.__docgenInfo={description:"",methods:[],displayName:"ActionBarIconButton",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""},icon:{required:!0,tsType:{name:"ReactElementType",raw:"React.ElementType"},description:""},unsafeDisableTooltip:{required:!1,tsType:{name:"boolean"},description:""},description:{required:!1,tsType:{name:"string"},description:""},tooltipDirection:{required:!1,tsType:{name:"union",raw:"'nw' | 'n' | 'ne' | 'e' | 'se' | 's' | 'sw' | 'w'",elements:[{name:"literal",value:"'nw'"},{name:"literal",value:"'n'"},{name:"literal",value:"'ne'"},{name:"literal",value:"'e'"},{name:"literal",value:"'se'"},{name:"literal",value:"'s'"},{name:"literal",value:"'sw'"},{name:"literal",value:"'w'"}]},description:""},keyshortcuts:{required:!1,tsType:{name:"string"},description:"@deprecated Use `keybindingHint` instead."},keybindingHint:{required:!1,tsType:{name:"string"},description:""}}};V.__docgenInfo={description:"",methods:[],displayName:"VerticalDivider"};const be=Object.assign(P,{IconButton:H,Divider:V});export{be as A};
