import{r as m,R as d,e as f}from"./iframe-Cfz2vXeE.js";import{u as p}from"./useIsomorphicLayoutEffect-C_Bsqbyc.js";const u="__primerPortalRoot__",i="__default__",l={};function R(o,t=i){l[t]=o}function P(){const o=l[i];if(!o||!document.body.contains(o)){let t=document.getElementById(u);if(!(t instanceof Element)){t=document.createElement("div"),t.setAttribute("id",u),t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%";const r=document.querySelector("[data-portal-root]");r?r.appendChild(t):document.body.appendChild(t)}R(t)}}const y=d.createContext({}),C=({children:o,onMount:t,containerName:r})=>{const{portalContainerName:c}=m.useContext(y),a=d.useRef(null);if(!a.current){const e=document.createElement("div");e.style.position="relative",e.style.zIndex="1",a.current=e}const n=a.current;return p(()=>{let e=r??c;e===void 0&&(e=i,P());const s=l[e];if(!s)throw new Error(`Portal container '${e}' is not yet registered. Container must be registered with registerPortalRoot before use.`);return s.appendChild(n),t?.(),()=>{s.removeChild(n)}},[n,r,c]),f.createPortal(o,n)};export{C as P,y as a,R as r};
