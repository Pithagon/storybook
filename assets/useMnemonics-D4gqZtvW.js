import{d as p,R as k}from"./iframe-Cfz2vXeE.js";import{u as w}from"./useProvidedRefOrCreate-Pg3blKRP.js";import{i as g}from"./iterate-focusable-elements-QzROm7ZI.js";const N=(e,o)=>{const t=p.c(10),r=w(o);let i,c;t[0]!==r||t[1]!==e?(i=function(){if(!e||!r.current)return;const n=r.current;[...g(n)].map(L)},c=[e,r],t[0]=r,t[1]=e,t[2]=i,t[3]=c):(i=t[2],c=t[3]),k.useEffect(i,c);let a,u;t[4]!==r||t[5]!==e?(a=function(){if(!e||!r.current)return;const n=r.current,d=s=>{const y=document.activeElement;if(y.tagName==="INPUT"||y.tagName==="TEXTAREA"||s.ctrlKey||s.altKey||s.metaKey||!I(s))return;s.stopPropagation();const K=s.key.toLowerCase();let h;const l=[...g(n)].filter(b=>{const m=b.getAttribute("aria-keyshortcuts")?.split(" ").map(_);return m&&m.includes(K)}),E=l.indexOf(y);E===l.length-1?h=l[0]:h=l.find((b,m)=>m>E),h?.focus()};return n.addEventListener("keydown",d),()=>n.removeEventListener("keydown",d)},u=[e,r],t[4]=r,t[5]=e,t[6]=a,t[7]=u):(a=t[6],u=t[7]),k.useEffect(a,u);let f;return t[8]!==r?(f={containerRef:r},t[8]=r,t[9]=f):f=t[9],f},I=e=>e.key.length===1&&/[a-z\d]/i.test(e.key);function L(e){if(e.getAttribute("aria-keyshortcuts"))return;const o=e.textContent.toLowerCase()[0];o&&e.setAttribute("aria-keyshortcuts",o)}function _(e){return e.toLowerCase()}export{I as i,N as u};
