import{r as S,R as c,j as A,c as k}from"./iframe-Cfz2vXeE.js";import{D as s}from"./Avatar-Oyvcp9WV.js";import{i as f}from"./useResponsiveValue-Cmf8jyBD.js";import{B as I}from"./BoxWithFallback-BKnPTtUo.js";const R="prc-AvatarStack-AvatarStack-N-r3C",q="prc-AvatarStack-AvatarItem-nS1mt",C="prc-AvatarStack-AvatarStackBody-mSyoJ",w={AvatarStack:R,AvatarItem:q,AvatarStackBody:C},V={disabled:"[disabled]",hidden:"[hidden]",inert:"[inert]",negativeTabIndex:'[tabindex="-1"]'},$=["a[href]","button","summary","select","input:not([type=hidden])","textarea",'[tabindex="0"]',"audio[controls]","video[controls]","[contenteditable]"],j=$.map(e=>`${e}:not(${Object.values(V).join("):not(")})`);function E(e,t){return!e||y(e)?!1:!!h(e,[e])}function y(e){const t=getComputedStyle(e),a=e.matches("[disabled], [hidden], [inert]"),r=t.display==="none"||t.visibility==="hidden";return a||r}function h(e,t){if(!e)return;const a=t.find(l=>l===e),r=y(e);if(e.matches(j.join(", "))&&!a&&!r)return e;for(const l of e.children)if(h(l,t))return!0}const z=(e,t)=>c.Children.map(e,a=>c.isValidElement(a)?c.cloneElement(a,{...a.props,square:t==="square"?!0:void 0,className:k(a.props.className,"pc-AvatarItem",w.AvatarItem)}):a),B=({disableExpand:e,hasInteractiveChildren:t,stackContainer:a,children:r})=>A.jsx("div",{"data-disable-expand":e?"":void 0,className:k({"pc-AvatarStack--disableExpand":e},"pc-AvatarStackBody",w.AvatarStackBody),tabIndex:!t&&!e?0:void 0,ref:a,children:r}),_=({children:e,variant:t="cascade",shape:a="circle",alignRight:r,disableExpand:l,size:n,className:g,style:b})=>{const[x,N]=S.useState(!1),p=S.useRef(null),d=c.Children.count(e),m=(()=>{const i={narrow:[],regular:[],wide:[]};return c.Children.toArray(e).reduce((o,v)=>{if(!c.isValidElement(v))return o;for(const u of Object.keys(i))f(v.props.size)?i[u].push(v.props.size[u]||s):i[u].push(v.props.size||s),o[u]=Math.min(...i[u]);return o},{narrow:s,regular:s,wide:s})})();S.useEffect(()=>{if(p.current){const i=()=>{N(E(p.current))},o=new MutationObserver(i);return o.observe(p.current,{childList:!0}),i(),()=>{o.disconnect()}}},[]);const T=()=>n?f(n)?{"--stackSize-narrow":`${n.narrow||s}px`,"--stackSize-regular":`${n.regular||s}px`,"--stackSize-wide":`${n.wide||s}px`}:{"--avatar-stack-size":`${n}px`}:{"--stackSize-narrow":`${m.narrow}px`,"--stackSize-regular":`${m.regular}px`,"--stackSize-wide":`${m.wide}px`};return A.jsx(I,{as:"span","data-variant":t,"data-shape":a,"data-avatar-count":d>3?"3+":d,"data-align-right":r?"":void 0,"data-responsive":!n||f(n)?"":void 0,className:k({"pc-AvatarStack--variant":t,"pc-AvatarStack--shape":a,"pc-AvatarStack--two":d===2,"pc-AvatarStack--three":d===3,"pc-AvatarStack--three-plus":d>3,"pc-AvatarStack--right":r},g,w.AvatarStack),style:{...T(),...b},children:A.jsxs(B,{disableExpand:l,hasInteractiveChildren:x,stackContainer:p,children:[" ",z(e,a)]})})};_.__docgenInfo={description:"",methods:[],displayName:"AvatarStack",props:{alignRight:{required:!1,tsType:{name:"boolean"},description:""},disableExpand:{required:!1,tsType:{name:"boolean"},description:""},variant:{required:!1,tsType:{name:"union",raw:"'cascade' | 'stack'",elements:[{name:"literal",value:"'cascade'"},{name:"literal",value:"'stack'"}]},description:"",defaultValue:{value:"'cascade'",computed:!1}},shape:{required:!1,tsType:{name:"union",raw:"'circle' | 'square'",elements:[{name:"literal",value:"'circle'"},{name:"literal",value:"'square'"}]},description:"",defaultValue:{value:"'circle'",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"number | ResponsiveValue<number>",elements:[{name:"number"},{name:"signature",type:"object",raw:`{
  narrow?: TNarrow // Applies when viewport is narrow
  regular?: TRegular // Applies when viewports is regular
  wide?: TWide // Applies when viewports is wide
}`,signature:{properties:[{key:"narrow",value:{name:"TRegular",required:!1}},{key:"regular",value:{name:"number",required:!1}},{key:"wide",value:{name:"TRegular",required:!1}}]}}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""}}};export{_ as A};
