import{d as q,j as B}from"./iframe-Cfz2vXeE.js";import{c as J}from"./create-component-3GntSW2q.js";var K=function(n,t,e,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e},P=function(n,t,e,s){if(e==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?s:e==="a"?s.call(n):s?s.value:t.get(n)},b;class Q{formatToParts(t){const e=[];for(const s of t)e.push({type:"element",value:s}),e.push({type:"literal",value:", "});return e.slice(0,-1)}}const X=typeof Intl<"u"&&Intl.ListFormat||Q,V=[["years","year"],["months","month"],["weeks","week"],["days","day"],["hours","hour"],["minutes","minute"],["seconds","second"],["milliseconds","millisecond"]],tt={minimumIntegerDigits:2};class et{constructor(t,e={}){b.set(this,void 0);let s=String(e.style||"short");s!=="long"&&s!=="short"&&s!=="narrow"&&s!=="digital"&&(s="short");let i=s==="digital"?"numeric":s;const r=e.hours||i;i=r==="2-digit"?"numeric":r;const a=e.minutes||i;i=a==="2-digit"?"numeric":a;const o=e.seconds||i;i=o==="2-digit"?"numeric":o;const l=e.milliseconds||i;K(this,b,{locale:t,style:s,years:e.years||s==="digital"?"short":s,yearsDisplay:e.yearsDisplay==="always"?"always":"auto",months:e.months||s==="digital"?"short":s,monthsDisplay:e.monthsDisplay==="always"?"always":"auto",weeks:e.weeks||s==="digital"?"short":s,weeksDisplay:e.weeksDisplay==="always"?"always":"auto",days:e.days||s==="digital"?"short":s,daysDisplay:e.daysDisplay==="always"?"always":"auto",hours:r,hoursDisplay:e.hoursDisplay==="always"||s==="digital"?"always":"auto",minutes:a,minutesDisplay:e.minutesDisplay==="always"||s==="digital"?"always":"auto",seconds:o,secondsDisplay:e.secondsDisplay==="always"||s==="digital"?"always":"auto",milliseconds:l,millisecondsDisplay:e.millisecondsDisplay==="always"?"always":"auto"},"f")}resolvedOptions(){return P(this,b,"f")}formatToParts(t){const e=[],s=P(this,b,"f"),i=s.style,r=s.locale;for(const[a,o]of V){const l=t[a];if(s[`${a}Display`]==="auto"&&!l)continue;const h=s[a],u=h==="2-digit"?tt:h==="numeric"?{}:{style:"unit",unit:o,unitDisplay:h};e.push(new Intl.NumberFormat(r,u).format(l))}return new X(r,{type:"unit",style:i==="digital"?"short":i}).formatToParts(e)}format(t){return this.formatToParts(t).map(e=>e.value).join("")}}b=new WeakMap;const j=/^[-+]?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?)?$/,E=["year","month","week","day","hour","minute","second","millisecond"],st=n=>j.test(n);class c{constructor(t=0,e=0,s=0,i=0,r=0,a=0,o=0,l=0){this.years=t,this.months=e,this.weeks=s,this.days=i,this.hours=r,this.minutes=a,this.seconds=o,this.milliseconds=l,this.years||(this.years=0),this.sign||(this.sign=Math.sign(this.years)),this.months||(this.months=0),this.sign||(this.sign=Math.sign(this.months)),this.weeks||(this.weeks=0),this.sign||(this.sign=Math.sign(this.weeks)),this.days||(this.days=0),this.sign||(this.sign=Math.sign(this.days)),this.hours||(this.hours=0),this.sign||(this.sign=Math.sign(this.hours)),this.minutes||(this.minutes=0),this.sign||(this.sign=Math.sign(this.minutes)),this.seconds||(this.seconds=0),this.sign||(this.sign=Math.sign(this.seconds)),this.milliseconds||(this.milliseconds=0),this.sign||(this.sign=Math.sign(this.milliseconds)),this.blank=this.sign===0}abs(){return new c(Math.abs(this.years),Math.abs(this.months),Math.abs(this.weeks),Math.abs(this.days),Math.abs(this.hours),Math.abs(this.minutes),Math.abs(this.seconds),Math.abs(this.milliseconds))}static from(t){var e;if(typeof t=="string"){const s=String(t).trim(),i=s.startsWith("-")?-1:1,r=(e=s.match(j))===null||e===void 0?void 0:e.slice(1).map(a=>(Number(a)||0)*i);return r?new c(...r):new c}else if(typeof t=="object"){const{years:s,months:i,weeks:r,days:a,hours:o,minutes:l,seconds:h,milliseconds:u}=t;return new c(s,i,r,a,o,l,h,u)}throw new RangeError("invalid duration")}static compare(t,e){const s=Date.now(),i=Math.abs(I(s,c.from(t)).getTime()-s),r=Math.abs(I(s,c.from(e)).getTime()-s);return i>r?-1:i<r?1:0}toLocaleString(t,e){return new et(t,e).format(this)}}function I(n,t){const e=new Date(n);return t.sign<0?(e.setUTCSeconds(e.getUTCSeconds()+t.seconds),e.setUTCMinutes(e.getUTCMinutes()+t.minutes),e.setUTCHours(e.getUTCHours()+t.hours),e.setUTCDate(e.getUTCDate()+t.weeks*7+t.days),e.setUTCMonth(e.getUTCMonth()+t.months),e.setUTCFullYear(e.getUTCFullYear()+t.years)):(e.setUTCFullYear(e.getUTCFullYear()+t.years),e.setUTCMonth(e.getUTCMonth()+t.months),e.setUTCDate(e.getUTCDate()+t.weeks*7+t.days),e.setUTCHours(e.getUTCHours()+t.hours),e.setUTCMinutes(e.getUTCMinutes()+t.minutes),e.setUTCSeconds(e.getUTCSeconds()+t.seconds)),e}function it(n,t="second",e=Date.now()){const s=n.getTime()-e;if(s===0)return new c;const i=Math.sign(s),r=Math.abs(s),a=Math.floor(r/1e3),o=Math.floor(a/60),l=Math.floor(o/60),h=Math.floor(l/24),u=Math.floor(h/30),M=Math.floor(u/12),f=E.indexOf(t)||E.length;return new c(f>=0?M*i:0,f>=1?(u-M*12)*i:0,0,f>=3?(h-u*30)*i:0,f>=4?(l-h*24)*i:0,f>=5?(o-l*60)*i:0,f>=6?(a-o*60)*i:0,f>=7?(r-a*1e3)*i:0)}function L(n,{relativeTo:t=Date.now()}={}){if(t=new Date(t),n.blank)return n;const e=n.sign;let s=Math.abs(n.years),i=Math.abs(n.months),r=Math.abs(n.weeks),a=Math.abs(n.days),o=Math.abs(n.hours),l=Math.abs(n.minutes),h=Math.abs(n.seconds),u=Math.abs(n.milliseconds);u>=900&&(h+=Math.round(u/1e3)),(h||l||o||a||r||i||s)&&(u=0),h>=55&&(l+=Math.round(h/60)),(l||o||a||r||i||s)&&(h=0),l>=55&&(o+=Math.round(l/60)),(o||a||r||i||s)&&(l=0),a&&o>=12&&(a+=Math.round(o/24)),!a&&o>=21&&(a+=Math.round(o/24)),(a||r||i||s)&&(o=0);const M=t.getFullYear(),f=t.getMonth(),C=t.getDate();if(a>=27||s+i+a){const D=new Date(t);D.setDate(1),D.setMonth(f+i*e+1),D.setDate(0);const F=Math.max(0,C-D.getDate()),g=new Date(t);g.setFullYear(M+s*e),g.setDate(C-F),g.setMonth(f+i*e),g.setDate(C-F+a*e);const S=g.getFullYear()-t.getFullYear(),z=g.getMonth()-t.getMonth(),x=Math.abs(Math.round((Number(g)-Number(t))/864e5))+F,k=Math.abs(S*12+z);x<27?(a>=6?(r+=Math.round(a/7),a=0):a=x,i=s=0):k<=11?(i=k,s=0):(i=0,s=S*e),(i||s)&&(a=0)}return s&&(i=0),r>=4&&(i+=Math.round(r/4)),(i||s)&&(r=0),a&&r&&!i&&!s&&(r+=Math.round(a/7),a=0),new c(s*e,i*e,r*e,a*e,o*e,l*e,h*e,u*e)}function nt(n,t){const e=L(n,t);if(e.blank)return[0,"second"];for(const s of E){if(s==="millisecond")continue;const i=e[`${s}s`];if(i)return[i,s]}return[0,"second"]}var m=function(n,t,e,s){if(e==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?s:e==="a"?s.call(n):s?s.value:t.get(n)},_=function(n,t,e,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!i:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(n,e):i?i.value=e:t.set(n,e),e},d,T,v,p,y,U,$,W,H,G,w;const at=globalThis.HTMLElement||null,A=new c,N=new c(0,0,0,0,0,1);class rt extends Event{constructor(t,e,s,i){super("relative-time-updated",{bubbles:!0,composed:!0}),this.oldText=t,this.newText=e,this.oldTitle=s,this.newTitle=i}}function Y(n){if(!n.date)return 1/0;if(n.format==="duration"||n.format==="elapsed"){const e=n.precision;if(e==="second")return 1e3;if(e==="minute")return 60*1e3}const t=Math.abs(Date.now()-n.date.getTime());return t<60*1e3?1e3:t<60*60*1e3?60*1e3:60*60*1e3}const R=new class{constructor(){this.elements=new Set,this.time=1/0,this.timer=-1}observe(n){if(this.elements.has(n))return;this.elements.add(n);const t=n.date;if(t&&t.getTime()){const e=Y(n),s=Date.now()+e;s<this.time&&(clearTimeout(this.timer),this.timer=setTimeout(()=>this.update(),e),this.time=s)}}unobserve(n){this.elements.has(n)&&this.elements.delete(n)}update(){if(clearTimeout(this.timer),!this.elements.size)return;let n=1/0;for(const t of this.elements)n=Math.min(n,Y(t)),t.update();this.time=Math.min(60*60*1e3,n),this.timer=setTimeout(()=>this.update(),this.time),this.time+=Date.now()}};class Z extends at{constructor(){super(...arguments),d.add(this),T.set(this,!1),v.set(this,!1),y.set(this,this.shadowRoot?this.shadowRoot:this.attachShadow?this.attachShadow({mode:"open"}):this),w.set(this,null)}static define(t="relative-time",e=customElements){return e.define(t,this),this}static get observedAttributes(){return["second","minute","hour","weekday","day","month","year","time-zone-name","prefix","threshold","tense","precision","format","format-style","no-title","datetime","lang","title"]}get onRelativeTimeUpdated(){return m(this,w,"f")}set onRelativeTimeUpdated(t){m(this,w,"f")&&this.removeEventListener("relative-time-updated",m(this,w,"f")),_(this,w,typeof t=="object"||typeof t=="function"?t:null,"f"),typeof t=="function"&&this.addEventListener("relative-time-updated",t)}get second(){const t=this.getAttribute("second");if(t==="numeric"||t==="2-digit")return t}set second(t){this.setAttribute("second",t||"")}get minute(){const t=this.getAttribute("minute");if(t==="numeric"||t==="2-digit")return t}set minute(t){this.setAttribute("minute",t||"")}get hour(){const t=this.getAttribute("hour");if(t==="numeric"||t==="2-digit")return t}set hour(t){this.setAttribute("hour",t||"")}get weekday(){const t=this.getAttribute("weekday");if(t==="long"||t==="short"||t==="narrow")return t;if(this.format==="datetime"&&t!=="")return this.formatStyle}set weekday(t){this.setAttribute("weekday",t||"")}get day(){var t;const e=(t=this.getAttribute("day"))!==null&&t!==void 0?t:"numeric";if(e==="numeric"||e==="2-digit")return e}set day(t){this.setAttribute("day",t||"")}get month(){const t=this.format;let e=this.getAttribute("month");if(e!==""&&(e??(e=t==="datetime"?this.formatStyle:"short"),e==="numeric"||e==="2-digit"||e==="short"||e==="long"||e==="narrow"))return e}set month(t){this.setAttribute("month",t||"")}get year(){var t;const e=this.getAttribute("year");if(e==="numeric"||e==="2-digit")return e;if(!this.hasAttribute("year")&&new Date().getUTCFullYear()!==((t=this.date)===null||t===void 0?void 0:t.getUTCFullYear()))return"numeric"}set year(t){this.setAttribute("year",t||"")}get timeZoneName(){const t=this.getAttribute("time-zone-name");if(t==="long"||t==="short"||t==="shortOffset"||t==="longOffset"||t==="shortGeneric"||t==="longGeneric")return t}set timeZoneName(t){this.setAttribute("time-zone-name",t||"")}get prefix(){var t;return(t=this.getAttribute("prefix"))!==null&&t!==void 0?t:this.format==="datetime"?"":"on"}set prefix(t){this.setAttribute("prefix",t)}get threshold(){const t=this.getAttribute("threshold");return t&&st(t)?t:"P30D"}set threshold(t){this.setAttribute("threshold",t)}get tense(){const t=this.getAttribute("tense");return t==="past"?"past":t==="future"?"future":"auto"}set tense(t){this.setAttribute("tense",t)}get precision(){const t=this.getAttribute("precision");return E.includes(t)?t:this.format==="micro"?"minute":"second"}set precision(t){this.setAttribute("precision",t)}get format(){const t=this.getAttribute("format");return t==="datetime"?"datetime":t==="relative"?"relative":t==="duration"?"duration":t==="micro"?"micro":t==="elapsed"?"elapsed":"auto"}set format(t){this.setAttribute("format",t)}get formatStyle(){const t=this.getAttribute("format-style");if(t==="long")return"long";if(t==="short")return"short";if(t==="narrow")return"narrow";const e=this.format;return e==="elapsed"||e==="micro"?"narrow":e==="datetime"?"short":"long"}set formatStyle(t){this.setAttribute("format-style",t)}get noTitle(){return this.hasAttribute("no-title")}set noTitle(t){this.toggleAttribute("no-title",t)}get datetime(){return this.getAttribute("datetime")||""}set datetime(t){this.setAttribute("datetime",t)}get date(){const t=Date.parse(this.datetime);return Number.isNaN(t)?null:new Date(t)}set date(t){this.datetime=t?.toISOString()||""}connectedCallback(){this.update()}disconnectedCallback(){R.unobserve(this)}attributeChangedCallback(t,e,s){e!==s&&(t==="title"&&_(this,T,s!==null&&(this.date&&m(this,d,"m",U).call(this,this.date))!==s,"f"),!m(this,v,"f")&&!(t==="title"&&m(this,T,"f"))&&_(this,v,(async()=>{await Promise.resolve(),this.update(),_(this,v,!1,"f")})(),"f"))}update(){const t=m(this,y,"f").textContent||this.textContent||"",e=this.getAttribute("title")||"";let s=e;const i=this.date;if(typeof Intl>"u"||!Intl.DateTimeFormat||!i){m(this,y,"f").textContent=t;return}const r=Date.now();m(this,T,"f")||(s=m(this,d,"m",U).call(this,i)||"",s&&!this.noTitle&&this.setAttribute("title",s));const a=it(i,this.precision,r),o=m(this,d,"m",$).call(this,a);let l=t;o==="duration"?l=m(this,d,"m",W).call(this,a):o==="relative"?l=m(this,d,"m",H).call(this,a):l=m(this,d,"m",G).call(this,i),l?m(this,y,"f").textContent=l:this.shadowRoot===m(this,y,"f")&&this.textContent&&(m(this,y,"f").textContent=this.textContent),(l!==t||s!==e)&&this.dispatchEvent(new rt(t,l,e,s)),o==="relative"||o==="duration"?R.observe(this):R.unobserve(this)}}T=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,d=new WeakSet,p=function(){var t;const e=((t=this.closest("[lang]"))===null||t===void 0?void 0:t.getAttribute("lang"))||this.ownerDocument.documentElement.getAttribute("lang");try{return new Intl.Locale(e??"").toString()}catch{return"default"}},U=function(t){return new Intl.DateTimeFormat(m(this,d,"a",p),{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}).format(t)},$=function(t){const e=this.format;if(e==="datetime")return"datetime";if(e==="duration"||e==="elapsed"||e==="micro")return"duration";if((e==="auto"||e==="relative")&&typeof Intl<"u"&&Intl.RelativeTimeFormat){const s=this.tense;if(s==="past"||s==="future"||c.compare(t,this.threshold)===1)return"relative"}return"datetime"},W=function(t){const e=m(this,d,"a",p),s=this.format,i=this.formatStyle,r=this.tense;let a=A;s==="micro"?(t=L(t),a=N,(this.tense==="past"&&t.sign!==-1||this.tense==="future"&&t.sign!==1)&&(t=N)):(r==="past"&&t.sign!==-1||r==="future"&&t.sign!==1)&&(t=a);const o=`${this.precision}sDisplay`;return t.blank?a.toLocaleString(e,{style:i,[o]:"always"}):t.abs().toLocaleString(e,{style:i})},H=function(t){const e=new Intl.RelativeTimeFormat(m(this,d,"a",p),{numeric:"auto",style:this.formatStyle}),s=this.tense;s==="future"&&t.sign!==1&&(t=A),s==="past"&&t.sign!==-1&&(t=A);const[i,r]=nt(t);return r==="second"&&i<10?e.format(0,this.precision==="millisecond"?"second":this.precision):e.format(i,r)},G=function(t){const e=new Intl.DateTimeFormat(m(this,d,"a",p),{second:this.second,minute:this.minute,hour:this.hour,weekday:this.weekday,day:this.day,month:this.month,year:this.year,timeZoneName:this.timeZoneName});return`${this.prefix} ${e.format(t)}`.trim()};const O=typeof globalThis<"u"?globalThis:window;try{O.RelativeTimeElement=Z.define()}catch(n){if(!(O.DOMException&&n instanceof DOMException&&n.name==="NotSupportedError")&&!(n instanceof ReferenceError))throw n}const ot=J(Z,"relative-time"),lt={month:"short",day:"numeric",year:"numeric"};function ht(n){const t=q.c(16);let e,s,i,r,a;if(t[0]!==n?({date:s,datetime:i,children:e,noTitle:r,...a}=n,t[0]=n,t[1]=e,t[2]=s,t[3]=i,t[4]=r,t[5]=a):(e=t[1],s=t[2],i=t[3],r=t[4],a=t[5]),i){let u;t[6]!==i?(u=new Date(i),t[6]=i,t[7]=u):u=t[7],s=u}const o=r?"":void 0;let l;t[8]!==e||t[9]!==s?(l=e||s?.toLocaleDateString("en",lt)||"",t[8]=e,t[9]=s,t[10]=l):l=t[10];let h;return t[11]!==s||t[12]!==a||t[13]!==o||t[14]!==l?(h=B.jsx(ot,{...a,date:s,"no-title":o,children:l}),t[11]=s,t[12]=a,t[13]=o,t[14]=l,t[15]=h):h=t[15],h}ht.__docgenInfo={description:"",methods:[],displayName:"RelativeTime"};export{ht as R};
