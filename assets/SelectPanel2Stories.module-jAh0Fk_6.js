import{R as f,u as J,j as o,c as H,d as E,r as X}from"./iframe-Cfz2vXeE.js";import{A as Y,aC as ue,S as de,q as me,aM as pe,X as fe}from"./index.esm-C1WN7kEu.js";import{c as he}from"./index-C-OhZ25x.js";import{u as U}from"./useSlots-BdLPLn0-.js";import{B as Se,h as xe}from"./Overlay-Du2pzphD.js";import{a as Ce,I as ve}from"./InputLabel-BWKIqz-Q.js";import{i as ee}from"./invariant-Dix8OlSS.js";import{u as V}from"./useResponsiveValue-Cmf8jyBD.js";import{u as ye}from"./useProvidedRefOrCreate-Pg3blKRP.js";import{u as ge}from"./useAnchoredPosition-IlJWxGCn.js";import{O as be}from"./Octicon-B0A15aaM.js";import{T as G}from"./TextInput-hhRVe1zi.js";import{L as Pe}from"./Link-Dm7wEaum.js";import{C as we}from"./Checkbox-BHvnb8mU.js";import{H as Te}from"./Heading-Axc3-HQM.js";import{S as je}from"./Spinner-CP1_WO7z.js";import{A as Fe}from"./AriaStatus-CzZh6U-X.js";import{B as q}from"./Button-3sCteC9V.js";import{I as D}from"./IconButton-qXcIkMuV.js";const ke="prc-SelectPanel2-Overlay-ZMksW",Le="prc-SelectPanel2-Form-lMUVZ",Ie="prc-SelectPanel2-Container-Vl6-E",Ee="prc-SelectPanel2-HeaderContent-eO40v",Re="prc-SelectPanel2-TitleWrapper-aGk1d",Ne="prc-SelectPanel2-TextInput--jmMP",Ae="prc-SelectPanel2-Checkbox-xomBK",Me="prc-SelectPanel2-FlexBox-tWKl9",qe="prc-SelectPanel2-Title-apmeG",He="prc-SelectPanel2-Description-va-gM",$e="prc-SelectPanel2-ClearAction-AQbaB",Be="prc-SelectPanel2-Footer-fHAYu",Oe="prc-SelectPanel2-FooterContent-CPvyu",Ve="prc-SelectPanel2-FooterActions-l17C5",We="prc-SelectPanel2-SecondaryCheckbox-MV5My",De="prc-SelectPanel2-SmallText-qwyN0",ze="prc-SelectPanel2-SelectPanelLoading-JO-Ac",Ke="prc-SelectPanel2-LoadingText-LSSZI",Ze="prc-SelectPanel2-MessageFull-qnkev",Qe="prc-SelectPanel2-Octicon-huKe9",_e="prc-SelectPanel2-Warning-f9ypV",Xe="prc-SelectPanel2-MessageTitle-xZZN5",Ye="prc-SelectPanel2-MessageContent-SydzC",Ge="prc-SelectPanel2-MessageInline-KBMXw",Je="prc-SelectPanel2-Header-e7A2e",c={Overlay:ke,Form:Le,Container:Ie,HeaderContent:Ee,TitleWrapper:Re,TextInput:Ne,Checkbox:Ae,FlexBox:Me,Title:qe,Description:He,ClearAction:$e,Footer:Be,FooterContent:Oe,FooterActions:Ve,SecondaryCheckbox:We,SmallText:De,SelectPanelLoading:ze,LoadingText:Ke,MessageFull:Ze,Octicon:Qe,Error:"prc-SelectPanel2-Error-xuHY6",Warning:_e,MessageTitle:Xe,MessageContent:Ye,MessageInline:Ge,Header:Je},B=f.createContext({title:"",description:void 0,panelId:"",onCancel:()=>{},onClearSelection:void 0,searchQuery:"",setSearchQuery:()=>{},selectionVariant:"multiple",moveFocusToList:()=>{}}),K={narrow:"medium",regular:"small"},te=({title:s,description:e,variant:t,selectionVariant:l="multiple",id:a,defaultOpen:n=!1,open:r,anchorRef:S,anchoredPositionSettings:h,onCancel:u,onClearSelection:i,onSubmit:m,width:P="medium",maxHeight:b="large",className:C,...v})=>{const[p,x]=f.useState(n),$=Object.assign({regular:"anchored",narrow:"full-screen"},typeof t=="string"?{regular:t}:t),R=V($,"anchored");r!==void 0&&p!==r&&x(r);let N;const w=ye(S),F=()=>{p?g():x(!0)},k=f.Children.map(v.children,d=>f.isValidElement(d)&&d.type===ne?(N=f.cloneElement(d,{ref:w,onClick:d.props.onClick||F,"aria-haspopup":!0,"aria-expanded":p}),null):d),y=f.useCallback(()=>{p!==!1&&r===void 0&&x(!1)},[p,r]),g=f.useCallback(()=>{y(),typeof u=="function"&&u()},[y,u]),T=d=>{d?.preventDefault(),y(),typeof m=="function"&&m(d)},L=()=>{typeof i=="function"&&i()},I=d=>{l==="instant"&&T(),d.type==="keypress"&&d.key==="Enter"&&T()},[A,ae]=f.useState(""),O=J(a),[Z,re]=U(k,{header:z,footer:se}),Q=()=>{j.current?.querySelector("ul[role=listbox] li:not([role=none])")?.focus()},j=f.useRef(null);f.useEffect(()=>{p?j.current?.showModal():j.current?.open&&j.current.close()},[p]),f.useEffect(()=>{const d=j.current;return d?.addEventListener("close",y),()=>d?.removeEventListener("close",y)},[y]),f.useEffect(()=>{const d=j.current,M=ce=>{ce.key==="Escape"&&g()};return d?.addEventListener("keydown",M),()=>d?.removeEventListener("keydown",M)},[g]),f.useEffect(function(){if(p){const M=document.querySelector("dialog[open] input");M?M.focus():Q()}},[p]);const{position:_}=ge({anchorElementRef:w,floatingElementRef:j,side:"outside-bottom",align:"start",...h},[p,w.current,j.current]),ie=g;let W=xe[b];return R==="bottom-sheet"?W="calc(100vh - 64px)":R==="full-screen"&&(W="100vh"),o.jsxs(o.Fragment,{children:[N,o.jsx(Se,{as:"dialog",ref:j,"aria-labelledby":`${O}--title`,"aria-describedby":e?`${O}--description`:void 0,width:P,height:"fit-content",maxHeight:b,"data-variant":R,style:{"--max-height":W,"--position-top":`${_?.top??0}px`,"--position-left":`${_?.left??0}px`,visibility:p?"visible":"hidden",display:"flex"},className:H(c.Overlay,C),...v,onClick:d=>{d.target===d.currentTarget&&ie()},children:p&&o.jsx(o.Fragment,{children:o.jsx(B.Provider,{value:{panelId:O,title:s,description:e,onCancel:g,onClearSelection:i?L:void 0,searchQuery:A,setSearchQuery:ae,selectionVariant:l,moveFocusToList:Q},children:o.jsxs("form",{method:"dialog",onSubmit:T,className:c.Form,children:[Z.header??o.jsx(z,{}),o.jsx("div",{className:c.Container,children:o.jsx(he.Provider,{value:{container:"SelectPanel",listRole:"listbox",selectionAttribute:"aria-selected",selectionVariant:l==="instant"?"single":l,afterSelect:I,listLabelledBy:`${O}--title`,enableFocusZone:!0},children:re})}),Z.footer]})})})})]})},ne=f.forwardRef((s,e)=>{const t=Ce(s),[l,a]=X.useState("");return X.useEffect(()=>{const n=document.querySelector(`[for='${t.id}']`);n?.textContent&&a(n.textContent)},[t.id]),l?o.jsx(q,{ref:e,"aria-label":`${e.current.textContent}, ${l}`,...t}):o.jsx(q,{ref:e,...s})}),z=s=>{const e=E.c(42);let t,l,a,n;e[0]!==s?({children:t,onBack:a,className:l,...n}=s,e[0]=s,e[1]=t,e[2]=l,e[3]=a,e[4]=n):(t=e[1],l=e[2],a=e[3],n=e[4]);let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r={searchInput:le},e[5]=r):r=e[5];const[S,h]=U(t,r),{title:u,description:i,panelId:m,onCancel:P,onClearSelection:b}=f.useContext(B);let C;e[6]!==l?(C=H(c.Header,l),e[6]=l,e[7]=C):C=e[7];const v=i?!0:void 0,p=S.searchInput?!0:void 0;let x;e[8]!==a?(x=a?o.jsx(D,{type:"button",variant:"invisible",icon:me,"aria-label":"Back",onClick:()=>a()}):null,e[8]=a,e[9]=x):x=e[9];const $=i?!0:void 0,R=a?!0:void 0,N=`${m}--title`;let w;e[10]!==N||e[11]!==u?(w=o.jsx(Te,{as:"h1",id:N,className:c.Title,children:u}),e[10]=N,e[11]=u,e[12]=w):w=e[12];let F;e[13]!==i||e[14]!==m?(F=i?o.jsx("span",{id:`${m}--description`,className:c.Description,children:i}):null,e[13]=i,e[14]=m,e[15]=F):F=e[15];let k;e[16]!==F||e[17]!==$||e[18]!==R||e[19]!==w?(k=o.jsxs("div",{className:c.TitleWrapper,"data-description":$,"data-on-back":R,children:[w,F]}),e[16]=F,e[17]=$,e[18]=R,e[19]=w,e[20]=k):k=e[20];let y;e[21]!==k||e[22]!==x?(y=o.jsxs("div",{className:c.FlexBox,children:[x,k]}),e[21]=k,e[22]=x,e[23]=y):y=e[23];let g;e[24]!==b?(g=b?o.jsx(D,{type:"button",variant:"invisible",icon:pe,"aria-label":"Clear selection",onClick:b}):null,e[24]=b,e[25]=g):g=e[25];let T;e[26]!==P?(T=o.jsx(D,{type:"button",variant:"invisible",icon:fe,"aria-label":"Close",onClick:()=>P()}),e[26]=P,e[27]=T):T=e[27];let L;e[28]!==g||e[29]!==T?(L=o.jsxs("div",{children:[g,T]}),e[28]=g,e[29]=T,e[30]=L):L=e[30];let I;e[31]!==y||e[32]!==L||e[33]!==v||e[34]!==p?(I=o.jsxs("div",{className:c.HeaderContent,"data-description":v,"data-search-input":p,children:[y,L]}),e[31]=y,e[32]=L,e[33]=v,e[34]=p,e[35]=I):I=e[35];let A;return e[36]!==h||e[37]!==n||e[38]!==S.searchInput||e[39]!==I||e[40]!==C?(A=o.jsxs("div",{className:C,...n,children:[I,S.searchInput,h]}),e[36]=h,e[37]=n,e[38]=S.searchInput,e[39]=I,e[40]=C,e[41]=A):A=e[41],A},le=s=>{const e=E.c(22);let t,l,a,n;e[0]!==s?({onChange:a,onKeyDown:n,className:t,...l}=s,e[0]=s,e[1]=t,e[2]=l,e[3]=a,e[4]=n):(t=e[1],l=e[2],a=e[3],n=e[4]);let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=f.createRef(),e[5]=r):r=e[5];const S=r,{setSearchQuery:h,moveFocusToList:u}=f.useContext(B);let i;e[6]!==a||e[7]!==h?(i=x=>{typeof a=="function"?a(x):h(x.target.value)},e[6]=a,e[7]=h,e[8]=i):i=e[8];const m=i;let P;e[9]!==u||e[10]!==n?(P=x=>{x.key==="ArrowDown"&&(x.preventDefault(),u()),typeof n=="function"&&n(x)},e[9]=u,e[10]=n,e[11]=P):P=e[11];const b=P;let C;e[12]!==a?(C=o.jsx(G.Action,{icon:ue,"aria-label":"Clear",tooltipDirection:"w",className:c.ClearAction,onClick:()=>{S.current&&(S.current.value=""),typeof a=="function"&&a({target:S.current,currentTarget:S.current})}}),e[12]=a,e[13]=C):C=e[13];let v;e[14]!==t?(v=H(c.TextInput,t),e[14]=t,e[15]=v):v=e[15];let p;return e[16]!==b||e[17]!==m||e[18]!==l||e[19]!==C||e[20]!==v?(p=o.jsx(G,{ref:S,block:!0,leadingVisual:de,placeholder:"Search",trailingAction:C,className:v,onChange:m,onKeyDown:b,...l}),e[16]=b,e[17]=m,e[18]=l,e[19]=C,e[20]=v,e[21]=p):p=e[21],p},oe=f.createContext(!1),se=s=>{const e=E.c(13);let t;e[0]!==s?({...t}=s,e[0]=s,e[1]=t):t=e[1];const{onCancel:l,selectionVariant:a}=f.useContext(B),n=a==="instant",r=V(K,"small");if(n&&!t.children)return null;const S=n||void 0,h=n||void 0;let u;e[2]!==t.children||e[3]!==h?(u=o.jsx("div",{className:c.FooterContent,"data-hide-primary-actions":h,children:t.children}),e[2]=t.children,e[3]=h,e[4]=u):u=e[4];let i;e[5]!==r||e[6]!==n||e[7]!==l?(i=n?null:o.jsxs("div",{className:c.FooterActions,children:[o.jsx(q,{type:"button",size:r,onClick:()=>l(),children:"Cancel"}),o.jsx(q,{type:"submit",size:r,variant:"primary",children:"Save"})]}),e[5]=r,e[6]=n,e[7]=l,e[8]=i):i=e[8];let m;return e[9]!==S||e[10]!==u||e[11]!==i?(m=o.jsx(oe.Provider,{value:!0,children:o.jsxs("div",{className:c.Footer,"data-hide-primary-actions":S,children:[u,i]})}),e[9]=S,e[10]=u,e[11]=i,e[12]=m):m=e[12],m},Ue=s=>{const e=E.c(3),t=V(K,"small");let l;return e[0]!==s||e[1]!==t?(l=o.jsx(q,{type:"button",size:t,block:!0,...s}),e[0]=s,e[1]=t,e[2]=l):l=e[2],l},et=s=>{const e=E.c(9);let t,l;e[0]!==s?({className:t,...l}=s,e[0]=s,e[1]=t,e[2]=l):(t=e[1],l=e[2]);const a=V(K,"small");let n;e[3]!==t?(n=H(c.SmallText,t),e[3]=t,e[4]=n):n=e[4];let r;return e[5]!==l||e[6]!==a||e[7]!==n?(r=o.jsx(q,{as:Pe,size:a,variant:"invisible",block:!0,...l,className:n,children:l.children}),e[5]=l,e[6]=a,e[7]=n,e[8]=r):r=e[8],r},tt=s=>{const e=E.c(17);let t,l,a,n;e[0]!==s?({id:a,children:t,className:l,...n}=s,e[0]=s,e[1]=t,e[2]=l,e[3]=a,e[4]=n):(t=e[1],l=e[2],a=e[3],n=e[4]);const r=J(a),{selectionVariant:S}=f.useContext(B);ee(S!=="instant",'Sorry! SelectPanel.SecondaryAction with variant="checkbox" is not allowed inside selectionVariant="instant"');let h;e[5]!==l?(h=H(c.Checkbox,l),e[5]=l,e[6]=h):h=e[6];let u;e[7]!==r||e[8]!==n||e[9]!==h?(u=o.jsx(we,{id:r,className:h,...n}),e[7]=r,e[8]=n,e[9]=h,e[10]=u):u=e[10];let i;e[11]!==r||e[12]!==t?(i=o.jsx(ve,{htmlFor:r,className:c.SmallText,children:t}),e[11]=r,e[12]=t,e[13]=i):i=e[13];let m;return e[14]!==u||e[15]!==i?(m=o.jsxs("div",{className:c.SecondaryCheckbox,children:[u,i]}),e[14]=u,e[15]=i,e[16]=m):m=e[16],m},nt=s=>{const e=E.c(9);let t,l;e[0]!==s?({variant:l,...t}=s,e[0]=s,e[1]=t,e[2]=l):(t=e[1],l=e[2]);const a=f.useContext(oe);if(ee(a,"SelectPanel.SecondaryAction is only allowed inside SelectPanel.Footer"),l==="button"){let n;return e[3]!==t?(n=o.jsx(Ue,{...t}),e[3]=t,e[4]=n):n=e[4],n}else if(l==="link"){let n;return e[5]!==t?(n=o.jsx(et,{...t}),e[5]=t,e[6]=n):n=e[6],n}else if(l==="checkbox"){let n;return e[7]!==t?(n=o.jsx(tt,{...t}),e[7]=t,e[8]=n):n=e[8],n}},lt=s=>{const e=E.c(3),{children:t}=s,l=t===void 0?"Fetching items...":t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=o.jsx(je,{size:"medium",srText:null}),e[0]=a):a=e[0];let n;return e[1]!==l?(n=o.jsxs(Fe,{announceOnShow:!0,className:c.SelectPanelLoading,children:[a,o.jsx("span",{className:c.LoadingText,children:l})]}),e[1]=l,e[2]=n):n=e[2],n},ot=({variant:s="warning",size:e=s==="empty"?"full":"inline",title:t,children:l})=>e==="full"?o.jsxs("div",{"aria-live":s==="empty"?void 0:"polite",className:c.MessageFull,children:[s!=="empty"?o.jsx(be,{icon:Y,className:H(c.Octicon,s==="error"?c.Error:void 0,s==="warning"?c.Warning:void 0)}):null,o.jsx("span",{className:c.MessageTitle,children:t}),o.jsx("span",{className:c.MessageContent,children:l})]}):o.jsxs("div",{"aria-live":s==="empty"?void 0:"polite",className:c.MessageInline,"data-variant":s,children:[o.jsx(Y,{size:16}),o.jsx("div",{children:l})]}),At=Object.assign(te,{Button:ne,Header:z,SearchInput:le,Footer:se,Loading:lt,Message:ot,SecondaryAction:nt});te.__docgenInfo={description:"",methods:[],displayName:"Panel",props:{title:{required:!0,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},variant:{required:!1,tsType:{name:"union",raw:"'anchored' | 'modal' | ResponsiveValue<'anchored' | 'modal', 'full-screen' | 'bottom-sheet'>",elements:[{name:"literal",value:"'anchored'"},{name:"literal",value:"'modal'"},{name:"signature",type:"object",raw:`{
  narrow?: TNarrow // Applies when viewport is narrow
  regular?: TRegular // Applies when viewports is regular
  wide?: TWide // Applies when viewports is wide
}`,signature:{properties:[{key:"narrow",value:{name:"union",raw:"'full-screen' | 'bottom-sheet'",elements:[{name:"literal",value:"'full-screen'"},{name:"literal",value:"'bottom-sheet'"}],required:!1}},{key:"regular",value:{name:"union",raw:"'anchored' | 'modal'",elements:[{name:"literal",value:"'anchored'"},{name:"literal",value:"'modal'"}],required:!1}},{key:"wide",value:{name:"TRegular",required:!1}}]}}]},description:""},selectionVariant:{required:!1,tsType:{name:"union",raw:"'single' | 'multiple' | 'instant'",elements:[{name:"literal",value:"'single'"},{name:"literal",value:"'multiple'"},{name:"literal",value:"'instant'"}]},description:"",defaultValue:{value:"'multiple'",computed:!1}},id:{required:!1,tsType:{name:"string"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:""},anchorRef:{required:!1,tsType:{name:"ReactRefObject",raw:"React.RefObject<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},anchoredPositionSettings:{required:!1,tsType:{name:"Partial",elements:[{name:"PositionSettings"}],raw:"Partial<PositionSettings>"},description:""},onCancel:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onClearSelection:{required:!1,tsType:{name:"union",raw:"undefined | (() => void)",elements:[{name:"undefined"},{name:"unknown"}]},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(event?: React.FormEvent<HTMLFormElement>) => void",signature:{arguments:[{type:{name:"ReactFormEvent",raw:"React.FormEvent<HTMLFormElement>",elements:[{name:"HTMLFormElement"}]},name:"event"}],return:{name:"void"}}},description:""},width:{required:!1,tsType:{name:"ComponentPropsWithRef['width']",raw:"OverlayProps['width']"},description:"",defaultValue:{value:"'medium'",computed:!1}},height:{required:!1,tsType:{name:"literal",value:"'fit-content'"},description:""},maxHeight:{required:!1,tsType:{name:"Exclude",elements:[{name:"ComponentPropsWithRef['maxHeight']",raw:"OverlayProps['maxHeight']"},{name:"literal",value:"'xsmall'"}],raw:"Exclude<OverlayProps['maxHeight'], 'xsmall'>"},description:"",defaultValue:{value:"'large'",computed:!1}},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const st="prc-SelectPanel2-Circle-Zbnvx",at="prc-SelectPanel2-SwitchContainer-UzOfW",rt="prc-SelectPanel2-SwitchContainerLast-TYP90",it="prc-SelectPanel2-SwitchContent-5MTgE",ct="prc-SelectPanel2-SwitchLabel-mflJh",ut="prc-SelectPanel2-SwitchCaption-r1hOY",dt="prc-SelectPanel2-ResponsiveControls-8EThn",mt="prc-SelectPanel2-ControlRow-m1cjL",pt="prc-SelectPanel2-ControlContent-jixHd",ft="prc-SelectPanel2-ControlLabel-5oI3Z",Mt={Circle:st,SwitchContainer:at,SwitchContainerLast:rt,SwitchContent:it,SwitchLabel:ct,SwitchCaption:ut,ResponsiveControls:dt,ControlRow:mt,ControlContent:pt,ControlLabel:ft};export{At as S,Mt as s};
