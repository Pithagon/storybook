import{r as u}from"./iframe-Cfz2vXeE.js";const o=!0;function d(e){if(!e.defaultPrevented){for(const t of Object.values(n).reverse())if(t(e)===o||e.defaultPrevented)break}}const n={};function f(e,t){n[e]=t}function l(e){delete n[e]}let m=0;const b=({containerRef:e,ignoreClickRefs:t,onClickOutside:a})=>{const s=u.useMemo(()=>m++,[]),c=u.useCallback(r=>{if(r instanceof MouseEvent&&r.button>0||e.current?.contains(r.target)||t&&t.some(({current:i})=>i?.contains(r.target)))return o;a(r)},[e,t,a]);u.useEffect(()=>(Object.keys(n).length===0&&document.addEventListener("mousedown",d,{capture:!0}),f(s,c),()=>{l(s),Object.keys(n).length===0&&document.removeEventListener("mousedown",d,{capture:!0})}),[s,c])};export{b as u};
